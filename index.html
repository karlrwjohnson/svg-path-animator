<!DOCTYPE html>
<html>
<head>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <style>
        body {
            margin: 0 auto;
            width:800px;
            font-family: 'Open Sans', Helvetica, Arial, sans-serif;
        }
        svg {
            border:1px solid #ccc;
            box-shadow:2px 2px 5px rgba(0,0,0,0.2);
        }
        pre {
            padding:1em;
            background:#eee;
        }
        .path {
            stroke:black;
            stroke-width:2px;
            fill:black;
        }
    </style>
</head>
<body>
    <h1>Animated SVG Paths!</h1>

    <p>If this doesn't work, try it in Chrome and enable the &quot;<b>Experimental Javascript</b>&quot; flag.</p>
    <p>You can enable experimental Javascript by pasting the following link into your address bar and clicking &quot;<b>Enable</b>&quot;:</p>
    <pre>chrome://flags#enable-javascript-harmony</pre>

    <p>
        <button onclick='(window.animation && window.animation.reset()),
                         window.animation = animatePath(document.querySelector(".path"), {millisPerPixel:5})'>Animate!</button>
        <button onclick='window.animation.pause()'>Pause</button>
        <button onclick='window.animation.resume()'>Resume</button>
        <button onclick='window.animation.reset()'>Reset</button>
    </p>

    <svg width=800 height=600>
        <!-- Pikachu -->
        <path class='path' d='
            m 519.50422,593.95798 c -2.59299,-0.72238 -43.09299,-18.39071 -90,-39.26295 -192.35454,-85.5921 -183.43987,-81.4513 -192.5926,-89.45789 -2.79158,-2.442 -15.20011,-18.65443 -31.58701,-41.27018 -14.84411,-20.48652 -40.56718,-55.8949 -57.16239,-78.68531 -16.5952,-22.7904 -30.68649,-42.99267 -31.31396,-44.89394 -2.81348,-8.52492 0.64527,-22.21939 8.54802,-33.84469 13.80262,-20.3043 178.11462,-250.940229 180.74204,-253.697908 1.86611,-1.958625 5.71324,-4.7008125 8.54918,-6.0937494 4.52163,-2.2209016 6.25242,-2.5294275 14.0625,-2.506734 8.61549,0.025034 10.8191,0.5557289 67.5,16.2561224 32.22656,8.926634 99.16208,27.346097 148.74561,40.93214 53.13968,14.56044 92.16132,25.720163 95.04636,27.182128 6.30018,3.192539 13.43088,9.881459 15.81572,14.835851 1.43198,2.97487 4.97852,25.79261 15.03935,96.76041 7.45699,52.60072 13.16546,95.90118 13.16546,99.86404 0,13.87865 6.66086,0.31048 -110.4197,224.92468 -15.72306,30.16406 -30.07218,57.09633 -31.88692,59.84948 -5.78861,8.78194 -12.93034,11.70534 -22.25166,9.1085 z m 3.30828,-8.82954 c 0,-2.4055 -61.39837,-143.23709 -64.23179,-147.33072 -3.176,-4.58859 -9.00536,-8.87942 -17.79946,-13.10171 C 436.65625,422.71549 387.92969,402.8744 332.5,380.6047 277.07031,358.335 210.41406,331.55002 184.375,321.08251 158.33594,310.615 135.22474,301.51844 133.01678,300.86793 c -4.59644,-1.35421 -6.40425,-0.40639 -5.38001,2.82069 1.03462,3.25979 110.87126,154.93194 114.66686,158.34214 1.91269,1.71847 6.00887,4.5277 9.10262,6.24272 5.49908,3.0484 246.71837,110.71377 259.6875,115.90844 7.89321,3.16154 11.71875,3.47053 11.71875,0.94652 z m -47.34375,-25.32436 c -26.23325,-7.77472 -60.31992,-31.753 -59.34542,-41.74655 0.2775,-2.84574 0.38867,-2.90674 5.80766,-3.18644 14.08608,-0.72706 45.86667,15.21815 62.14809,31.18144 6.80461,6.67165 8.92278,10.69337 7.13429,13.5457 -1.33648,2.13145 -8.91306,2.23051 -15.74462,0.20585 z m -180.09811,-79.2334 c -13.98858,-4.53206 -33.79881,-16.47593 -45.18777,-27.24436 -12.4745,-11.7948 -12.95889,-17.73658 -1.30344,-15.98873 17.29413,2.59342 53.47144,25.59893 60.19952,38.28148 1.88342,3.55028 2.03853,4.4407 0.99302,5.70046 -1.72402,2.07731 -6.77177,1.8202 -14.70133,-0.74885 z M 427.6043,465.08654 c -31.51221,-8.50018 -71.56214,-39.43884 -66.22285,-51.15731 4.994,-10.96063 49.65121,6.73308 73.18718,28.9976 10.97732,10.38431 15.02787,18.64744 10.84329,22.12034 -2.36667,1.96415 -10.60445,1.98237 -17.80762,0.0394 z M 227.94949,382.15819 C 212.39545,377.11764 192.37801,364.95779 179.55996,352.76332 164.4392,338.37818 162.33052,330 173.83071,330 c 5.6431,0 12.81966,2.43798 25.07554,8.51851 41.28971,20.48513 64.30454,55.06667 29.04324,43.63968 z m 309.08683,197.29465 c 3.04118,-3.57947 130.27666,-246.20217 136.62565,-260.52862 2.34742,-5.29694 3.29706,-8.9437 3.58528,-13.76797 0.50542,-8.45995 -25.31343,-188.12755 -27.52532,-191.54258 -1.82021,-2.8103 -2.96281,-2.35154 -6.72156,2.69878 -1.70136,2.28596 -27.58585,47.18755 -57.52108,99.7813 -29.93522,52.59375 -66.56642,116.94852 -81.40264,143.01061 -14.83622,26.06209 -28.02231,49.47615 -29.30242,52.03125 -4.20509,8.39342 -5.63466,14.14125 -5.19711,20.89586 0.36832,5.68597 3.08891,12.59294 30.15703,76.56228 16.36369,38.67187 30.36966,71.26172 31.12438,72.42187 1.86538,2.86751 2.56387,2.69081 6.17779,-1.56278 z m -1.78034,-39.18292 c -2.26732,-3.46814 -2.00062,-16.09044 0.54381,-25.73744 6.29199,-23.85554 20.83827,-48.9627 30.2729,-52.25162 10.08302,-3.51496 10.20497,19.49519 0.23339,44.03541 -11.13792,27.4106 -25.24361,42.83533 -31.0501,33.95365 z m -38.70453,-98.9418 c -2.61778,-4.29165 -3.13803,-8.09094 -2.5214,-18.41305 1.29412,-21.66275 13.13899,-49.84328 26.90745,-64.01637 6.37439,-6.56172 9.76912,-8.20631 13.95978,-6.7629 8.12869,2.79981 8.11089,24.75414 -0.0389,48.02133 -6.22032,17.75858 -18.43158,37.30865 -26.3668,42.21289 -1.78427,1.10274 -4.78256,2.00498 -6.66287,2.00498 -2.85083,0 -3.72749,-0.50616 -5.27724,-3.04687 z m 73.39203,-42.61349 c -4.25558,-6.49093 -1.9329,-26.64331 5.27054,-45.72904 5.18581,-13.73993 10.62406,-23.14884 17.48256,-30.24716 4.6175,-4.77896 6.21741,-5.86343 8.65026,-5.86343 4.23883,0 6.02488,3.17015 6.56979,11.66105 1.04231,16.24136 -7.19803,42.3453 -18.93632,59.98684 -8.02014,12.05354 -15.2711,15.93549 -19.03683,10.19174 z m 60.48013,-35.19901 c -1.87406,-3.28095 -1.35038,-17.63292 0.99442,-27.25293 5.55929,-22.80814 19.96498,-48.45019 27.21929,-48.45019 13.11646,0 0.63416,53.44325 -16.98491,72.72132 -5.28825,5.78619 -9.05554,6.78659 -11.2288,2.9818 z M 607.77316,248.56668 c -9.37783,-10.36237 1.62235,-58.1667 18.08627,-78.59898 7.9406,-9.85454 13.65339,-11.11951 16.99313,-3.76274 4.94721,10.89769 0.007,38.91873 -10.78825,61.18871 -8.86337,18.28499 -18.94903,27.076 -24.29115,21.17301 z M 457.84962,413.11116 c 7.07859,-3.66049 11.07588,-10.25297 93.31096,-153.89241 44.8705,-78.375 82.37174,-144.50843 83.33608,-146.96318 0.96434,-2.45475 1.75334,-5.7096 1.75334,-7.233 0,-3.59216 -4.49538,-8.741995 -9.31406,-10.670048 -2.01585,-0.806589 -34.38939,-9.94756 -71.94119,-20.313274 C 517.44295,63.673536 452.33594,45.683084 410.3125,34.060467 351.55013,17.808288 332.60732,12.914738 328.28125,12.869114 321.60354,12.798689 316.8234,14.95182 311.75916,20.311187 307.5796,24.734336 134.56241,269.41973 131.83737,274.76127 c -3.73887,7.32879 -2.29775,13.69542 3.97413,17.55711 3.46568,2.13386 300.28153,120.76887 305.43532,122.08014 4.53015,1.1526 13.18166,0.48177 16.6028,-1.28736 z m -49.16588,-43.28064 c -12.8967,-2.80191 -25.21233,-12.72689 -29.31714,-23.62623 -1.70564,-4.52893 -1.9844,-6.89145 -1.69071,-14.32929 0.2982,-7.55185 0.789,-9.83295 3.22745,-15 12.04809,-25.52989 44.09777,-38.88506 69.84162,-29.10317 10.68049,4.05827 18.12958,10.85056 22.66399,20.66567 2.88338,6.24132 2.79344,20.95127 -0.17184,28.10543 -10.09798,24.36268 -38.41735,38.96585 -64.55337,33.28759 z M 198.6613,288.66009 c -3.55799,-1.12716 -7.7863,-3.42176 -10.73545,-5.82584 -21.93301,-17.8793 -7.76542,-54.10055 26.2227,-67.04166 5.41026,-2.05998 7.8724,-2.41399 17.10145,-2.45889 8.42939,-0.041 11.8038,0.33703 15.46875,1.73298 10.75858,4.09787 17.13908,10.94857 19.77313,21.23026 5.20742,20.32656 -14.59724,46.14461 -40.53345,52.84086 -7.95122,2.05285 -19.97335,1.84246 -27.29713,-0.47771 z m 269.30745,-20.90165 c -12.5437,-3.06296 -21.98285,-10.02761 -26.77038,-19.75247 -3.67459,-7.46414 -4.39242,-14.15751 -2.36645,-22.06562 8.98933,-35.08881 62.17442,-50.09906 86.26352,-24.34587 6.67047,7.13127 8.48788,11.84897 8.49358,22.04789 0.005,7.97347 -0.21527,8.93128 -3.63715,15.85496 -10.51824,21.28223 -38.43545,34.01103 -61.98312,28.26111 z M 260.59424,195.86538 C 245.18522,190.98232 237.1659,177.2321 240.9996,162.2677 c 4.50692,-17.59223 21.75668,-32.13276 43.04609,-36.28531 18.35455,-3.58009 34.47168,2.73867 41.0455,16.092 2.73177,5.54902 2.93316,6.59178 2.51908,13.04387 -1.15734,18.03392 -18.28145,35.8826 -39.60411,41.27988 -7.83899,1.98424 -20.22916,1.74343 -27.41192,-0.53276 z m 264.56201,-23.31893 c -19.88457,-4.29307 -31.4358,-17.23936 -30.24398,-33.89661 0.66556,-9.30209 4.56295,-16.74849 12.8652,-24.5804 16.57345,-15.634556 41.52381,-20.081709 61.44128,-10.95128 7.90095,3.62189 12.99477,8.40381 16.46863,15.46021 2.69511,5.47455 2.9242,6.64216 2.6175,13.34038 -0.42802,9.34764 -4.12442,17.31234 -11.44943,24.67037 -10.38982,10.43662 -23.28766,15.93796 -38.57095,16.4517 -5.15804,0.17339 -11.06575,-0.0491 -13.12825,-0.49437 z M 321.25,109.33702 c -14.4699,-3.98357 -21.96872,-12.654567 -22.01001,-25.450483 -0.10277,-31.8465 52.47934,-54.520903 76.79648,-33.116099 6.44777,5.67555 8.45155,10.087212 8.45023,18.604562 0,5.835241 -0.46293,7.988057 -2.71621,12.65625 -3.49128,7.232996 -13.9859,17.756381 -21.78866,21.84839 -11.47685,6.01883 -28.15595,8.36893 -38.73183,5.45738 z
        ' />
    </svg>

    <p>This used a lot math and a lot of Javascript -- you can't animate this with CSS.</p>
    <p>I wrote a <a href='doc/Bisecting%20a%20cubic%20spline.txt'>text file</a>
       containing how I derived the formula to split a cubic spline,
       which was the question which drove this project. It turned out to be a lot simpler
       conceptually than I thought it would.</p>
</body>
<script src='bundle.js'></script>
</html>
